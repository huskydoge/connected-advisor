{
    "sourceFile": "src/components/ImageLoader.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1708343975661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1708344082379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,31 +1,33 @@\n-import React, { useState } from \"react\";\n-import { CircularProgress, Box } from \"@mui/material\";\n+import React, { useState } from 'react';\n+import { CircularProgress, Box, Avatar } from '@mui/material';\n \n-const ImageLoader = ({ src, alt, ...props }) => {\n+const AvatarLoader = ({ src, alt, ...props }) => {\n   const [loaded, setLoaded] = useState(false);\n \n   return (\n-    <Box sx={{ display: \"inline-block\", position: \"relative\" }}>\n+    <Box sx={{ display: 'inline-flex', position: 'relative', alignItems: 'center', justifyContent: 'center' }}>\n       {!loaded && (\n         <CircularProgress\n           size={24}\n           sx={{\n-            position: \"absolute\",\n-            top: \"50%\",\n-            left: \"50%\",\n-            transform: \"translate(-50%, -50%)\",\n+            position: 'absolute',\n+            zIndex: 1,\n           }}\n         />\n       )}\n-      <img\n-        src={src}\n+      <Avatar\n+        src={loaded ? src : undefined} // 只有当图像加载完成后才设置src属性\n         alt={alt}\n         onLoad={() => setLoaded(true)}\n-        style={{ display: loaded ? \"inline\" : \"none\", ...props.style }}\n         {...props}\n+        sx={{\n+          ...props.sx,\n+          opacity: loaded ? 1 : 0, // 在加载过程中隐藏Avatar，直到图像加载完成\n+          transition: 'opacity 0.3s ease-in-out', // 平滑过渡效果\n+        }}\n       />\n     </Box>\n   );\n };\n \n-export default ImageLoader;\n+export default AvatarLoader;\n"
                }
            ],
            "date": 1708343975661,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\nimport { CircularProgress, Box } from '@mui/material';\n\nconst ImageLoader = ({ src, alt, ...props }) => {\n  const [loaded, setLoaded] = useState(false);\n\n  return (\n    <Box sx={{ display: 'inline-block', position: 'relative' }}>\n      {!loaded && (\n        <CircularProgress\n          size={24}\n          sx={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n          }}\n        />\n      )}\n      <img\n        src={src}\n        alt={alt}\n        onLoad={() => setLoaded(true)}\n        style={{ display: loaded ? 'inline' : 'none', ...props.style }}\n        {...props}\n      />\n    </Box>\n  );\n};\n\nexport default ImageLoader;\n"
        }
    ]
}