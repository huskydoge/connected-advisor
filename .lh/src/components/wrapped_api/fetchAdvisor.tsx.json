{
    "sourceFile": "src/components/wrapped_api/fetchAdvisor.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1713951753367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1713951806583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n   return advisor_lst;\n };\n \n const fetchAdvisorDetails = async (advisorId: string) => {\n-  console.log(\"Fetch advisor details for advisor ID:\", advisorId);\n+  // console.log(\"Fetch advisor details for advisor ID:\", advisorId);\n   try {\n     const response = await fetch(\"/api/getAdvisorDetails\", {\n       method: \"POST\",\n       headers: {\n"
                },
                {
                    "date": 1715427712026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n const fetchSearchDetailsById = async (id) => {\n-  const response = await fetch(\"/api/searchAdvisor\", {\n+  const response = await fetch(\"/api/searchAdvisorByName\", {\n     method: \"POST\",\n     headers: { \"Content-Type\": \"application/json\" },\n     body: JSON.stringify({ oid: id }),\n   });\n@@ -81,9 +81,9 @@\n   }\n };\n \n const searchAdvisorDetailsById = async (id: string) => {\n-  const response = await fetch(\"/api/searchAdvisor\", {\n+  const response = await fetch(\"/api/searchAdvisorByName\", {\n     method: \"POST\",\n     headers: { \"Content-Type\": \"application/json\" },\n     body: JSON.stringify({ oid: id }),\n   });\n@@ -94,9 +94,9 @@\n \n const searchAdvisorDetailsByName = async (searchText: string) => {\n   if (!searchText.trim()) return [];\n \n-  const response = await fetch(\"/api/searchAdvisor\", {\n+  const response = await fetch(\"/api/searchAdvisorByName\", {\n     method: \"POST\",\n     headers: { \"Content-Type\": \"application/json\" },\n     body: JSON.stringify({ name: searchText }),\n   });\n"
                },
                {
                    "date": 1715429564278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,8 +105,24 @@\n   const res = Array.isArray(data) ? data : [];\n   return res;\n };\n \n+\n+const fuzzySearchAdvisorDetails = async (searchText: string) => {\n+  if (!searchText.trim()) return [];\n+\n+  const response = await fetch(\"/api/searchAdvisorByName\", {\n+    method: \"POST\",\n+    headers: { \"Content-Type\": \"application/json\" },\n+    body: JSON.stringify({ name: searchText }),\n+  });\n+  const data = await response.json();\n+\n+  const res = Array.isArray(data) ? data : [];\n+  return res;\n+};\n+\n+\n export {\n   searchAdvisorDetailsById,\n   searchAdvisorDetailsByName,\n   fetchSearchDetailsById,\n"
                },
                {
                    "date": 1715429577519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,9 @@\n \n const fuzzySearchAdvisorDetails = async (searchText: string) => {\n   if (!searchText.trim()) return [];\n \n-  const response = await fetch(\"/api/searchAdvisorByName\", {\n+  const response = await fetch(\"/api/fuzzySearchAdvisor\", {\n     method: \"POST\",\n     headers: { \"Content-Type\": \"application/json\" },\n     body: JSON.stringify({ name: searchText }),\n   });\n"
                },
                {
                    "date": 1715429583691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,9 +105,8 @@\n   const res = Array.isArray(data) ? data : [];\n   return res;\n };\n \n-\n const fuzzySearchAdvisorDetails = async (searchText: string) => {\n   if (!searchText.trim()) return [];\n \n   const response = await fetch(\"/api/fuzzySearchAdvisor\", {\n@@ -120,9 +119,8 @@\n   const res = Array.isArray(data) ? data : [];\n   return res;\n };\n \n-\n export {\n   searchAdvisorDetailsById,\n   searchAdvisorDetailsByName,\n   fetchSearchDetailsById,\n"
                },
                {
                    "date": 1715429633757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,8 +123,9 @@\n export {\n   searchAdvisorDetailsById,\n   searchAdvisorDetailsByName,\n   fetchSearchDetailsById,\n+  fuzzySearchAdvisorDetails\n   updateAdvisor,\n   fetchAdvisorByIdLst,\n   fetchAdvisorDetails,\n };\n"
                },
                {
                    "date": 1715429712058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n export {\n   searchAdvisorDetailsById,\n   searchAdvisorDetailsByName,\n   fetchSearchDetailsById,\n-  fuzzySearchAdvisorDetails\n+  fuzzySearchAdvisorDetails,\n   updateAdvisor,\n   fetchAdvisorByIdLst,\n   fetchAdvisorDetails,\n };\n"
                }
            ],
            "date": 1713951753367,
            "name": "Commit-0",
            "content": "const fetchSearchDetailsById = async (id) => {\n  const response = await fetch(\"/api/searchAdvisor\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ oid: id }),\n  });\n  const data = await response.json();\n  // console.log(\"Search details by id:\", data);\n  return data;\n};\n\nconst updateAdvisor = async (formattedData) => {\n  try {\n    const response = await fetch(\"/api/updateAdvisor\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formattedData),\n    });\n\n    if (!response.ok) {\n      // Throw an error with the response status to handle it in the catch block\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    console.log(\"Submit result:\", result);\n\n    // Optionally, return the result to the caller for further processing\n    return result;\n  } catch (error) {\n    console.error(\"Submit error:\", error);\n    // Optionally, throw the error again to let the caller handle it\n    throw error;\n  }\n};\n\nconst fetchAdvisorByIdLst = async (advisor_id_lst: Array<string>) => {\n  console.log(\"input advisor_id_lst\", advisor_id_lst);\n\n  const response = await fetch(\"/api/searchAdvisorByLst\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ ids: advisor_id_lst }),\n  });\n  if (!response.ok) {\n    console.error(\"Failed to fetch advisor by id\");\n    return null;\n  }\n  const advisor_lst = await response.json();\n  // console.log(\"Successfully fetched advisor by id\", advisor_lst);\n  return advisor_lst;\n};\n\nconst fetchAdvisorDetails = async (advisorId: string) => {\n  console.log(\"Fetch advisor details for advisor ID:\", advisorId);\n  try {\n    const response = await fetch(\"/api/getAdvisorDetails\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ _id: advisorId }),\n    });\n\n    // if (!response.ok) {\n    //   // Throw an error with the response status to handle it in the catch block\n    //   throw new Error(`HTTP error! status: ${response.status}`);\n    // }\n\n    const result = await response.json();\n    // console.log(\"Fetch advisor details:\", result);\n\n    // Optionally, return the result to the caller for further processing\n    return result;\n  } catch (error) {\n    console.error(\"Fetch error:\", error);\n    // Optionally, throw the error again to let the caller handle it\n    throw error;\n  }\n};\n\nconst searchAdvisorDetailsById = async (id: string) => {\n  const response = await fetch(\"/api/searchAdvisor\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ oid: id }),\n  });\n  const data = await response.json();\n  console.log(\"Search details by id:\", data);\n  return data;\n};\n\nconst searchAdvisorDetailsByName = async (searchText: string) => {\n  if (!searchText.trim()) return [];\n\n  const response = await fetch(\"/api/searchAdvisor\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ name: searchText }),\n  });\n  const data = await response.json();\n\n  const res = Array.isArray(data) ? data : [];\n  return res;\n};\n\nexport {\n  searchAdvisorDetailsById,\n  searchAdvisorDetailsByName,\n  fetchSearchDetailsById,\n  updateAdvisor,\n  fetchAdvisorByIdLst,\n  fetchAdvisorDetails,\n};\n"
        }
    ]
}