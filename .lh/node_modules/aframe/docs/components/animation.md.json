{
    "sourceFile": "node_modules/aframe/docs/components/animation.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1713791839833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1713791839833,
            "name": "Commit-0",
            "content": "---\ntitle: animation\ntype: components\nlayout: docs\nparent_section: components\nsource_code: src/components/animation.js\nexamples:\n - title: Animating on Events\n   src: https://glitch.com/edit/#!/aframe-animation-events?path=index.html:1:0\n - title: Generated Animations\n   src: https://glitch.com/~aframe-shooting-stars\n---\n\n[animationtimeline]: https://www.npmjs.com/package/aframe-animation-timeline-component\n\nThe animation component lets us animate and tween values including:\n\n- Component values (e.g., `position`, `visible`)\n- Component property values (e.g., `light.intensity`)\n\nWe can also tween values directly for better performance versus going through\n`.setAttribute`, such as by animating values:\n\n- On the `object3D` (e.g., `object3D.position.y`, `object3D.rotation.z`)\n- Directly within a component (e.g., `components.material.material.color`, `components.text.material.uniforms.opacity.value`),\n\nFor example, translating a box:\n\n```html\n<a-box position=\"-1 1.6 -5\" animation=\"property: position; to: 1 8 -10; dur: 2000; easing: linear; loop: true\" color=\"tomato\"></a-box>\n```\n\nOr orbiting a sphere in a 5-meter radius:\n\n```html\n<a-entity rotation=\"0 0 0\" animation=\"property: rotation; to: 0 360 0; loop: true; dur: 10000\">\n        <a-sphere position=\"5 0 0\" color=\"mediumseagreen\"></a-sphere>\n</a-entity>\n```\n\nRead more below for additional options and discovering how to properly animate\ndifferent types of values.\n\n<!--toc-->\n\n## API\n\n### Properties\n\n| Property      | Description                                                                                                                                                                                                                                                                                                                                       | Default Value | Values                  |\n| --------      | -----------                                                                                                                                                                                                                                                                                                                                       | ------------- | ------                  |\n| property      | Property to animate. Can be a component name, a dot-delimited property of a component (e.g., `material.color`), or a plain attribute.                                                                                                                                                                                                             |               |                         |\n| isRawProperty | Flag to animate an arbitrary object property outside of A-Frame components for better performance. If set to true, for example, we can set `property` to like `components.material.material.opacity`. If `property` starts with `components` or `object3D`, this will be inferred to `true`.                                                      | false         |                         |\n| from          | Initial value at start of animation. If not specified, the current property value of the entity will be used (will be sampled on each animation start). It is best to specify a `from` value when possible for stability.                                                                                                                         | null          |                         |\n| to            | Target value at end of animation.                                                                                                                                                                                                                                                                                                                 | null          |                         |\n| type          | Right now only supports `color` for tweening `isRawProperty` color XYZ/RGB vector  values.                                                                                                                                                                                                                                                        | ''            |                         |\n| delay         | How long (milliseconds) to wait before starting.                                                                                                                                                                                                                                                                                                  | 0             |                         |\n| dir           | Which dir to go from `from` to `to`.                                                                                                                                                                                                                                                                                                              | normal        | alternate, reverse      |\n| dur           | How long (milliseconds) each cycle of the animation is.                                                                                                                                                                                                                                                                                           | 1000          |                         |\n| easing        | Easing function of animation. To ease in, ease out, ease in and out.                                                                                                                                                                                                                                                                              | easeInQuad    | See [easings](#easings) |\n| elasticity    | How much to bounce (higher is stronger).                                                                                                                                                                                                                                                                                                          | 400           |                         |\n| loop          | How many times the animation should repeat. If the value is `true`, the animation will repeat infinitely.                                                                                                                                                                                                                                         | 0             |                         |\n| round         | Whether to round values.                                                                                                                                                                                                                                                                                                                          | false         |                         |\n| startEvents   | Comma-separated list of events to listen to trigger a restart and play. Animation will not autoplay if specified. `startEvents` will **restart** the animation, use `pauseEvents` to resume it. If there are other animation components on the entity animating the same property, those animations will be automatically paused to not conflict. | null          |                         |\n| pauseEvents   | Comma-separated list of events to listen to trigger pause. Can be resumed with `resumeEvents`.                                                                                                                                                                                                                                                    | null          |                         |\n| resumeEvents  | Comma-separated list of events to listen to trigger resume after pausing.                                                                                                                                                                                                                                                                         | null          |                         |\n| autoplay      | Whether or not the animation should `autoplay`. Should be specified if the animation is defined for the [`animation-timeline` component][animationtimeline].                                                                                                                                                                                      | true      |                         |\n| enabled       | If disabled, animation will stop and startEvents will not trigger animation start.                                                                                                                                                                                                                                                                                                                        | true          ||\n\n### Multiple Animations\n\nThe component's base name is `animation`. We can attach multiple animations to\none entity by name-spacing the component with double underscores (`__`):\n\n```html\n<a-entity animation=\"property: rotation\"\n          animation__2=\"property: position\"\n          animation__color=\"property: material.color\"></a-entity>\n```\n\n### Easings\n\nEasings define the accelerations and speed throughout the cycle of the\nanimation.\n\n| easeIn        | easeOut        | easeInOut        | Others |\n|---------------|----------------|------------------|--------|\n| easeInQuad    | easeOutQuad    | easeInOutQuad    | linear |\n| easeInCubic   | easeOutCubic   | easeInOutCubic   |        |\n| easeInQuart   | easeOutQuart   | easeInOutQuart   |        |\n| easeInQuint   | easeOutQuint   | easeInOutQuint   |        |\n| easeInSine    | easeOutSine    | easeInOutSine    |        |\n| easeInExpo    | easeOutExpo    | easeInOutExpo    |        |\n| easeInCirc    | easeOutCirc    | easeInOutCirc    |        |\n| easeInBack    | easeOutBack    | easeInOutBack    |        |\n| easeInElastic | easeOutElastic | easeInOutElastic |        |\n\n### Events\n\n| Property                | Description                                                            |\n| --------                | -----------                                                            |\n| animationbegin          | Animation began. Event detail contains `name` of animation.            |\n| animationcomplete       | Animation completed. Event detail contains `name` of animation.        |\n| animationcomplete__<id> | Animation completed if animation has an ID (e.g., `animation__click`). |\n\n### Members\n\nAccessed as `el.components.animation.<MEMBER>`.\n\n| Member    | Description                |\n|-----------|----------------------------|\n| animation | anime.js object.           |\n| config    | Config passed to anime.js. |\n\n### Controlling Animations using setAttribute\n\nLike any A-Frame component, the animation component can be configured from JavaScript by calling [setAttribute()]( https://aframe.io/docs/1.4.0/introduction/javascript-events-dom-apis.html#updating-a-component-with-setattribute) on an element.\n\nBy default, the animation will begin playing immediately (autoplay is true by default).\n\nHowever, care should be taken when using the interface in this way.  If a finite (i.e. non-looping) animation is requested twice in a row, with identical parameters, the second animation will not play, and neither will it generate an animationcomplete event.\n\nThis is because A-Frame sees the second request as a duplicate request for configuration already applied to the element, and so the second request never reaches the animation component.\n\nA better approach is to control the start of an animation using events (see next section)\n\n- On initialization, configure all the animations that may be required on the object, with a custom event configured to start the animation.\n- When you want to start a specific animation, do so by using emit() rather than setAttribute().\n\nThis gives more robust control of the animation (avoiding problems where you request the same animation twice in a row), and also reduces the overheads involved in setting up animation config, since it only needs to be done once.\n\n## Animating on Events\n\nWe can use the `startEvents` property to animate upon events:\n\n```html\n<a-entity id=\"mouseCursor\" cursor=\"rayOrigin: mouse\"></a-entity>\n\n<a-entity\n  geometry=\"primitive: box\"\n  material=\"color: red\"\n  animation__mouseenter=\"property: components.material.material.color; type: color; to: blue; startEvents: mouseenter; dur: 500\";\n  animation__mouseleave=\"property: components.material.material.color; type: color; to: red; startEvents: mouseleave; dur: 500\";>\n</a-entity>\n```\n\n[eventsglitch]: https://glitch.com/edit/#!/aframe-animation-events?path=index.html:1:0\n\n[Remix the Animating on Events Glitch][eventsglitch].\n\nTo start an animation by explicitly emitting an event, you can do the following:\n\n```\nel.emit(`startanim001`, null, false);\n```\n\nThe [third parameter of emit](https://aframe.io/docs/1.4.0/core/entity.html#emit-name-detail-bubbles) set to \"false\" parameter ensures the event won't bubble up to parents, so that you can target the animation at just one particular element.\n\nThis assumes that an animation has already been configured to respond to that custom start event, for example like this:\n\n```\nel.setAttribute('animation__001', {'property': 'position',\n                                 'to': {x: 1, y: 1, z: 1},                                 \n                                 'startEvents': 'startanim001'});\n```\n\n(configuring startEvents on the animation automatically disables autoplay).\n\n## Animating Different Types of Values\n\nWe'll go over different cases of animating different types of values.\n\n### Component Values\n\nWe can animate a single-property component value (e.g., `property: visible`,\nwe'll go over booleans in a bit) or animate a property of a multi-property\ncomponent using a dot `.` as a separator (e.g., `property: light.intensity`,\n`property: material.color`).\n\nIf the property is a `vec3`, that is also supported (e.g., `property:\nsomeComponent.vec3Value; to: 5 5 5`).\n\nHowever, animating component values this way is not the most optimal way as it\nwill invoke `.setAttribute` on each frame of the animation. For an animation\nhere or there, it won't be a big deal, but we can save time and memory by\nanimating values directly.\n\nA special note to try not to animate values of the `geometry` component as that\nwill recreate the geometry on each tick. Rather animate `scale` if we want to\nanimate the size.\n\n### Boolean Values\n\nWe can \"animate\" boolean values where the `to` value will be applied at the end\nof the animation. Like `property: visible; from: false; to: true; dur: 1`.\n\n### Direct Values through `object3D` and `components`\n\nThe animation component supports animating values directly through `object3D`\nor `components`.\n\nFor example, we can animate values on `object3D` like `property:\nobject3D.position.z; to: 5` which will tween the entity's `object3D.position.z`\nvalue directly without calling `.setAttribute`; it's the most direct way and\nlets us animate a single axis at a time. Note, for `object3D.rotation`, degrees\nare used.\n\nOr we can animate values by reaching into `components`. For example, rather than\nanimating `property: material.opacity` which would call `.setAttribute` on each\nframe, we can animate the opacity value directly with `property:\ncomponents.material.material.opacity`. We use a dot-delimited path to walk the\nobject tree to find the value we want to animate, and the animation process\nunder the hood reduces down to changing a number.\n\n#### Direct Color Values\n\nWe can animate three.js color values directly, but we'll need to specify `type:\ncolor`. So rather than animating `property: material.color`, we can do\n`property: components.material.material.color; type: color`.\n\nA note on color values, we can specify color values using hex, color names,\nhsl, or rgb (e.g., `from: red; to: #FFCCAA` or `from: rgb(100, 100, 100); to:\nhsl(213, 100%, 70%)`)..\n\n## Using anime.js Directly\n\nanime is a popular and powerful animation engine. The component prefers to do\njust basic tweening and touches the surface of what anime can do (e.g.,\ntimelines, motion paths, progress, seeking). If we need more animation\nfeatures, create a separate component that invokes anime.js directly. anime is\naccessible via **`AFRAME.ANIME`**.\n\nRead through and explore the [anime.js\ndocumentation](https://github.com/juliangarnier/anime) and\n[homepage](https://animejs.com).\n\n## See Also\n\n- [animation-timeline component][animationtimeline]\n"
        }
    ]
}